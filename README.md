# MScript

## An M interpreter that can run in your browser.

Entirely work in progress.

Functionality is based on the M/MUMPS specification as much as possible:
http://71.174.62.16/Demo/AnnoStd

Some extensions may be implemented, such as `<=` and `>=`.

## Examples

[Snake](https://zorbn.github.io/?bWFpbgogICAgcyB0aWxlU2l6ZT0xNgogICAgcyBib2FyZFNpemU9JCRtaW4oJCRnZXRDYW52YXNXaWR0aCgpLCQkZ2V0Q2FudmFzSGVpZ2h0KCkpXHRpbGVTaXplCiAgICBzIGJvYXJkWD0kJGdldENhbnZhc1dpZHRoKCktKGJvYXJkU2l6ZSp0aWxlU2l6ZSlcMgogICAgcyBib2FyZFk9JCRnZXRDYW52YXNIZWlnaHQoKS0oYm9hcmRTaXplKnRpbGVTaXplKVwyCiAgICBzIHRpY2tUaW1lcj0wLHRpY2tUaW1lPTAuMQogICAgcyBzY29yZT0wCiAgICBzIGR4PTEsZHk9MAogICAgZCByYW5kb21pemVBcHBsZQogICAgZCBpbml0U25ha2UKICAgIHcgIlN0YXJ0aW5nLi4uIiwhCiAgICBxCgpmcmFtZShkdCkKICAgIG4geSxpCiAgICAKICAgIGkgZHgnPTEsJCRpc0tleVByZXNzZWQoIkFycm93TGVmdCIpIHMgZHg9LTEsZHk9MAogICAgaSBkeCc9LTEsJCRpc0tleVByZXNzZWQoIkFycm93UmlnaHQiKSBzIGR4PTEsZHk9MAogICAgaSBkeSc9MSwkJGlzS2V5UHJlc3NlZCgiQXJyb3dVcCIpIHMgZHk9LTEsZHg9MAogICAgaSBkeSc9LTEsJCRpc0tleVByZXNzZWQoIkFycm93RG93biIpIHMgZHk9MSxkeD0wCiAgICAKICAgIHMgdGlja1RpbWVyPXRpY2tUaW1lcitkdAogICAgcTp0aWNrVGltZXI8dGlja1RpbWUKICAgIHMgdGlja1RpbWVyPTAKICAgIAogICAgZiBpPXNuYWtlKDApOi0xOjIgZAogICAgLiBtIHNuYWtlKGkpPXNuYWtlKGktMSkKICAgIAogICAgcyBzbmFrZSgxLCJ4Iik9c25ha2UoMSwieCIpK2R4K2JvYXJkU2l6ZSNib2FyZFNpemUKICAgIHMgc25ha2UoMSwieSIpPXNuYWtlKDEsInkiKStkeStib2FyZFNpemUjYm9hcmRTaXplCiAgICAKICAgIGYgaT0yOjE6c25ha2UoMCkgZAogICAgLiBpIHNuYWtlKGksIngiKT1zbmFrZSgxLCJ4Iiksc25ha2UoaSwieSIpPXNuYWtlKDEsInkiKSBkCiAgICAuIC4gcyBzY29yZT0wCiAgICAuIC4gZCBpbml0U25ha2UKICAgIAogICAgZiBpPTE6MTpzbmFrZSgwKSBkCiAgICAuIGkgc25ha2UoaSwieCIpPWFwcGxlWCxzbmFrZShpLCJ5Iik9YXBwbGVZIGQKICAgIC4gLiBzIHNjb3JlPXNjb3JlKzEKICAgIC4gLiBkIHJhbmRvbWl6ZUFwcGxlCiAgICAuIC4gcyBzbmFrZSgwKT1zbmFrZSgwKSsxCiAgICAuIC4gbSBzbmFrZShzbmFrZSgwKSk9c25ha2Uoc25ha2UoMCktMSkKICAgIAogICAgZCBzZXRGaWxsU3R5bGUoImdyZWVuIikKICAgIGQgZmlsbFJlY3QoYm9hcmRYLGJvYXJkWSxib2FyZFNpemUqdGlsZVNpemUsYm9hcmRTaXplKnRpbGVTaXplKQogICAgCiAgICBkIHNldEZpbGxTdHlsZSgiZGFya2dyZWVuIikKICAgIGYgeT0wOjE6Ym9hcmRTaXplLTEgZAogICAgLiBmIHg9MDoxOmJvYXJkU2l6ZS0xIGQKICAgIC4gLiBpIHgreSMyPTAgZCBmaWxsVGlsZSh4LHkpCiAgICAKICAgIGQgc2V0RmlsbFN0eWxlKCJyZWQiKQogICAgZCBmaWxsVGlsZShhcHBsZVgsYXBwbGVZKQogICAgCiAgICBmIGk9MToxOnNuYWtlKDApIGQKICAgIC4gaSBpIzI9MCBkIHNldEZpbGxTdHlsZSgiZ3JlZW55ZWxsb3ciKQogICAgLiBlICBkIHNldEZpbGxTdHlsZSgibGlnaHRncmVlbiIpCiAgICAuIGQgZmlsbFRpbGUoc25ha2UoaSwieCIpLHNuYWtlKGksInkiKSkKICAgIAogICAgZCBzZXRGb250KCJib2xkIDI0cHggc2Fucy1zZXJpZiIpCiAgICBkIHNldEZpbGxTdHlsZSgid2hpdGUiKQogICAgZCBmaWxsVGV4dCgiU2NvcmU6ICJfc2NvcmUsYm9hcmRYK3RpbGVTaXplLGJvYXJkWSt0aWxlU2l6ZSoyKQogICAgCiAgICBxCiAgICAKZmlsbFRpbGUoeCx5KQogICAgZCBmaWxsUmVjdCh4KnRpbGVTaXplK2JvYXJkWCx5KnRpbGVTaXplK2JvYXJkWSx0aWxlU2l6ZSx0aWxlU2l6ZSkKICAgIHEKCmluaXRTbmFrZQogICAgcyBzY29yZT0wCiAgICBzIHNuYWtlKDApPTIKICAgIHMgc25ha2UoMSwieCIpPWJvYXJkU2l6ZVwyLHNuYWtlKDEsInkiKT1ib2FyZFNpemVcMgogICAgcyBzbmFrZSgyLCJ4Iik9c25ha2UoMSwieCIpLWR4LHNuYWtlKDIsInkiKT1zbmFrZSgxLCJ5IiktZHkKICAgIHEKCnJhbmRvbWl6ZUFwcGxlCiAgICBzIGFwcGxlWD0kUihib2FyZFNpemUtMSkKICAgIHMgYXBwbGVZPSRSKGJvYXJkU2l6ZS0xKQogICAgcQ==)

[Rainbow](https://zorbn.github.io/?bWFpbgogICAgcyB4PTY0MC0xNi8yLHk9NDgwLTE2LzIsZHg9MSxkeT0xLHNwZWVkPTEyMAogICAgcyBjYW52YXNXaWR0aD0kJGdldENhbnZhc1dpZHRoKCksY2FudmFzSGVpZ2h0PSQkZ2V0Q2FudmFzSGVpZ2h0KCkKICAgIHMgY29sb3JzKDApPSJyZWQiCiAgICBzIGNvbG9ycygxKT0ib3JhbmdlIgogICAgcyBjb2xvcnMoMik9InllbGxvdyIKICAgIHMgY29sb3JzKDMpPSJncmVlbiIKICAgIHMgY29sb3JzKDQpPSJibHVlIgogICAgcyBjb2xvcnMoNSk9InB1cnBsZSIKICAgIHcgIkdvISIsIQogICAgcQoKZnJhbWUoZHQpCiAgICBuIHN0ZXBTaXplLGNvbG9ySW5kZXgKICAgIHMgdGltZT10aW1lK2R0CiAgICBzIHN0ZXBTaXplPWR0KnNwZWVkCiAgICBzIGNvbG9ySW5kZXg9dGltZSo5IzYKICAgIHMgY29sb3JJbmRleD0kJGZsb29yKGNvbG9ySW5kZXgpCiAgICAKICAgIGkgJFIoMS9kdCk9MCBzIGR4PS1keAogICAgaSAkUigxL2R0KT0wIHMgZHk9LWR5CiAgICAKICAgIHMgeD1keCpzdGVwU2l6ZSt4K2NhbnZhc1dpZHRoI2NhbnZhc1dpZHRoCiAgICBzIHk9ZHkqc3RlcFNpemUreStjYW52YXNIZWlnaHQjY2FudmFzSGVpZ2h0CiAgICAKICAgIGQgc2V0RmlsbFN0eWxlKGNvbG9ycyhjb2xvckluZGV4KSkKICAgIGQgZmlsbFJlY3QoeCx5LDE2LDE2KQogICAgcQ==)
