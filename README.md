# MScript

## An M interpreter that can run in your browser.

Entirely work in progress.

Functionality is based on the M/MUMPS specification as much as possible:
http://71.174.62.16/Demo/AnnoStd

Some extensions may be implemented, such as `<=` and `>=`.

## Examples

[Snake](https://zorbn.github.io/mscript?bWFpbgogICAgcyB0aWxlU2l6ZT0xNgogICAgcyBib2FyZFNpemU9JCRtaW4oJCRnZXRDYW52YXNXaWR0aCgpLCQkZ2V0Q2FudmFzSGVpZ2h0KCkpXHRpbGVTaXplCiAgICBzIGJvYXJkWD0kJGdldENhbnZhc1dpZHRoKCktKGJvYXJkU2l6ZSp0aWxlU2l6ZSlcMgogICAgcyBib2FyZFk9JCRnZXRDYW52YXNIZWlnaHQoKS0oYm9hcmRTaXplKnRpbGVTaXplKVwyCiAgICBzIHRpY2tUaW1lcj0wLHRpY2tUaW1lPTAuMQogICAgcyBzY29yZT0wCiAgICBzIGR4PTEsZHk9MAogICAgZCByYW5kb21pemVBcHBsZQogICAgZCBpbml0U25ha2UKICAgIHcgIlN0YXJ0aW5nLi4uIiwhCiAgICBxCgpmcmFtZShkdCkKICAgIG4geSxpCiAgICAKICAgIGkgZHgnPTEsJCRpc0tleVByZXNzZWQoIkFycm93TGVmdCIpIHMgZHg9LTEsZHk9MAogICAgaSBkeCc9LTEsJCRpc0tleVByZXNzZWQoIkFycm93UmlnaHQiKSBzIGR4PTEsZHk9MAogICAgaSBkeSc9MSwkJGlzS2V5UHJlc3NlZCgiQXJyb3dVcCIpIHMgZHk9LTEsZHg9MAogICAgaSBkeSc9LTEsJCRpc0tleVByZXNzZWQoIkFycm93RG93biIpIHMgZHk9MSxkeD0wCiAgICAKICAgIHMgdGlja1RpbWVyPXRpY2tUaW1lcitkdAogICAgcTp0aWNrVGltZXI8dGlja1RpbWUKICAgIHMgdGlja1RpbWVyPXRpY2tUaW1lci10aWNrVGltZQogICAgCiAgICBmIGk9c25ha2UoMCk6LTE6MiBkCiAgICAuIG0gc25ha2UoaSk9c25ha2UoaS0xKQogICAgCiAgICBzIHNuYWtlKDEsIngiKT1zbmFrZSgxLCJ4IikrZHgrYm9hcmRTaXplI2JvYXJkU2l6ZQogICAgcyBzbmFrZSgxLCJ5Iik9c25ha2UoMSwieSIpK2R5K2JvYXJkU2l6ZSNib2FyZFNpemUKICAgIAogICAgZiBpPTI6MTpzbmFrZSgwKSBkCiAgICAuIGkgc25ha2UoaSwieCIpPXNuYWtlKDEsIngiKSxzbmFrZShpLCJ5Iik9c25ha2UoMSwieSIpIGQKICAgIC4gLiBzIHNjb3JlPTAKICAgIC4gLiBkIGluaXRTbmFrZQogICAgCiAgICBmIGk9MToxOnNuYWtlKDApIGQKICAgIC4gaSBzbmFrZShpLCJ4Iik9YXBwbGVYLHNuYWtlKGksInkiKT1hcHBsZVkgZAogICAgLiAuIHMgc2NvcmU9c2NvcmUrMQogICAgLiAuIGQgcmFuZG9taXplQXBwbGUKICAgIC4gLiBzIHNuYWtlKDApPXNuYWtlKDApKzEKICAgIC4gLiBtIHNuYWtlKHNuYWtlKDApKT1zbmFrZShzbmFrZSgwKS0xKQogICAgCiAgICBkIHNldEZpbGxTdHlsZSgiZ3JlZW4iKQogICAgZCBmaWxsUmVjdChib2FyZFgsYm9hcmRZLGJvYXJkU2l6ZSp0aWxlU2l6ZSxib2FyZFNpemUqdGlsZVNpemUpCiAgICAKICAgIGQgc2V0RmlsbFN0eWxlKCJkYXJrZ3JlZW4iKQogICAgZiB5PTA6MTpib2FyZFNpemUtMSBkCiAgICAuIGYgeD0wOjE6Ym9hcmRTaXplLTEgZAogICAgLiAuIGkgeCt5IzI9MCBkIGZpbGxUaWxlKHgseSkKICAgIAogICAgZCBzZXRGaWxsU3R5bGUoInJlZCIpCiAgICBkIGZpbGxUaWxlKGFwcGxlWCxhcHBsZVkpCiAgICAKICAgIGYgaT0xOjE6c25ha2UoMCkgZAogICAgLiBpIGkjMj0wIGQgc2V0RmlsbFN0eWxlKCJncmVlbnllbGxvdyIpCiAgICAuIGUgIGQgc2V0RmlsbFN0eWxlKCJsaWdodGdyZWVuIikKICAgIC4gZCBmaWxsVGlsZShzbmFrZShpLCJ4Iiksc25ha2UoaSwieSIpKQogICAgCiAgICBkIHNldEZvbnQoImJvbGQgMjRweCBzYW5zLXNlcmlmIikKICAgIGQgc2V0RmlsbFN0eWxlKCJ3aGl0ZSIpCiAgICBkIGZpbGxUZXh0KCJTY29yZTogIl9zY29yZSxib2FyZFgrdGlsZVNpemUsYm9hcmRZK3RpbGVTaXplKjIpCiAgICAKICAgIHEKICAgIApmaWxsVGlsZSh4LHkpCiAgICBkIGZpbGxSZWN0KHgqdGlsZVNpemUrYm9hcmRYLHkqdGlsZVNpemUrYm9hcmRZLHRpbGVTaXplLHRpbGVTaXplKQogICAgcQoKaW5pdFNuYWtlCiAgICBzIHNjb3JlPTAKICAgIHMgc25ha2UoMCk9MgogICAgcyBzbmFrZSgxLCJ4Iik9Ym9hcmRTaXplXDIsc25ha2UoMSwieSIpPWJvYXJkU2l6ZVwyCiAgICBzIHNuYWtlKDIsIngiKT1zbmFrZSgxLCJ4IiktZHgsc25ha2UoMiwieSIpPXNuYWtlKDEsInkiKS1keQogICAgcQoKcmFuZG9taXplQXBwbGUKICAgIHMgYXBwbGVYPSRSKGJvYXJkU2l6ZS0xKQogICAgcyBhcHBsZVk9JFIoYm9hcmRTaXplLTEpCiAgICBx)
